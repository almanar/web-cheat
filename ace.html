<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>ACE editor</title>
  <style>
    .editor {
      border: 1px solid black;
      margin-bottom: 5px;
      height: 200px;
      /* Required in theory: */
      /*position: absolute;*/
      width: 300px;
    }
  </style>
</head>
<body>
<h1>ACE editor</h1>

  <div class="editor" id="basic">#basic</div>
  <div class="editor" id="vim">#vim</div>
  <div class="editor" id="theme">#theme == twilight</div>
  <div class="editor" id="markdown-preview-md" style="display:inline-block;">#marked markdown preview</div>
  <div class="editor" id="markdown-preview-html" style="display:inline-block; overflow:auto;"></div>
  <div class="editor" id="wrap">#wrap very very very very very very very very very very very very long line</div>
  <div class="editor" id="mode">#mode #language == markdown

Normal. **Bf**.

- li
- li
  </div>
  <h2>modelist</h2>
    <label for="modelist-path">File path. Try changing to .md</label>
    <input id="modelist-path" value="a/b/c.js"></input>
    <div class="editor" id="modelist">function f(a) {
  return a + 1;
}

Normal. **Bf**.

- li
- li
    </div>
  <h2>spellcheck</h2>
    <p>TODO get working.</p>
    <div class="editor" id="spell">right wrongg</div>
    <div class="editor" id="spell-md">right `wrongg`</div>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ext-modelist.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ext-spellcheck.js"></script>
  <script src="marked/lib/marked.js"></script>
  <script>
    var editor

    editor = ace.edit('basic')

    editor = ace.edit('vim')
    editor.setKeyboardHandler('ace/keyboard/vim')

    editor = ace.edit('theme')
    editor.setTheme('ace/theme/twilight')

    editor = ace.edit('markdown-preview-md')
    preview = document.getElementById('markdown-preview-html')
    var session = editor.getSession()
    session.setMode('ace/mode/markdown')
    session.on('change', function(e) {
      markdown_preview_update()
    });
    var markdown_preview_update = function() {
      preview.innerHTML = marked(this.editor.getValue())
    }
    markdown_preview_update.editor = editor
    markdown_preview_update()

    editor = ace.edit('wrap')
    editor.getSession().setUseWrapMode(true)

    editor = ace.edit('mode')
    editor.getSession().setMode('ace/mode/markdown')

    // modelist

      // Get mode from path.
      // Useful when you will create a file on the browser,
      // and you are already taking the path as another input.
      // Defaults to 'ace/mode/text` for unknown extensions.
      ;(function(){
        var editor = ace.edit('modelist')
        var session = editor.getSession()
        var modelist = ace.require('ace/ext/modelist')
        var path_input = document.getElementById('modelist-path')
        var path_change = function() {
          session.setMode(modelist.getModeForPath(path_input.value).mode)
        }
        path_input.addEventListener(
          'input',
          path_change
        )
        path_change()
      }())

    // spellcheck

      // Not possible out of the box: https://groups.google.com/forum/#!topic/ace-discuss/eRpKMgDdjx0

      ace.require('ace/ext/spellcheck')

      editor = ace.edit('spell')
      editor.setOption('spellcheck', true)

      editor = ace.edit('spell-md')
      editor.getSession().setMode('ace/mode/markdown')
  </script>
</body>
</html>
